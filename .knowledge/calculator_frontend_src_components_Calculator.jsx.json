{"is_source_file": true, "format": "JavaScript/JSX (React component)", "description": "This file defines a React component named Calculator, which provides a scientific calculator UI with various functionalities, math operations, history management, and external integration with a backend for persisting calculations via Supabase.", "external_files": ["../lib/supabaseClient"], "external_methods": ["isSupabaseConfigured", "logCalculation", "getRecentHistory", "checkCalcHistoryAccessible"], "published": ["Calculator"], "classes": [], "methods": [{"name": "toNumber(value)", "description": "Converts a value to a finite number, defaulting to 0 if invalid.", "scope": "", "scopeKind": ""}, {"name": "formatNumber(value)", "description": "Formats a number to a string, removing unnecessary trailing zeros, with a limit on precision.", "scope": "", "scopeKind": ""}, {"name": "computeBinary(a, b, op)", "description": "Performs binary operations (+, -, *, /, ^) between two numbers.", "scope": "", "scopeKind": ""}, {"name": "pushHistory(expression, result)", "description": "Adds an expression and its result to the local history state.", "scope": "Calculator", "scopeKind": "function"}, {"name": "persistHistory(expression, result)", "description": "Saves the calculation history to the external backend (Supabase) if configured.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handleDigit(d)", "description": "Handles digit button presses, updating display accordingly.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handleDecimal()", "description": "Handles decimal point input.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handleOperator(nextOp)", "description": "Handles operator button presses, managing previous value and operation state.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handleEquals()", "description": "Computes the result of the current operation and updates the display and history.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handleClear()", "description": "Resets the calculator state.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handleDelete()", "description": "Deletes the last digit from the display.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handlePlusMinus()", "description": "Toggles the sign of the current number.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handlePercent()", "description": "Converts the current number into its percentage.", "scope": "Calculator", "scopeKind": "function"}, {"name": "handleConstant(name)", "description": "Inserts mathematical constants (PI or E) into the display.", "scope": "Calculator", "scopeKind": "function"}, {"name": "applyUnary(fn)", "description": "Applies a unary mathematical function (e.g., sin, cos, log) to the current display value.", "scope": "Calculator", "scopeKind": "function"}, {"name": "Calculator()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "loadHistory()", "scope": "Calculator", "scopeKind": "function", "description": "unavailable"}, {"name": "onKeyDown(e)", "scope": "Calculator", "scopeKind": "function", "description": "unavailable"}], "calls": ["isSupabaseConfigured()", "checkCalcHistoryAccessible()", "getRecentHistory(10)", "logCalculation(expression, result)"], "search-terms": ["Calculator React component", "Supabase integration", "math functions", "history management", "scientific calculator UI", "keyboard support", "applyUnary functions"], "state": 2, "file_id": 14, "knowledge_revision": 43, "git_revision": "c02f725a2e648eeb45976bbecc6ba5e7870f8f7a", "revision_history": [{"30": ""}, {"39": "839da0211edf514176d7354d7e262ddb00c36eba"}, {"42": "c02f725a2e648eeb45976bbecc6ba5e7870f8f7a"}, {"43": "c02f725a2e648eeb45976bbecc6ba5e7870f8f7a"}], "ctags": [{"_type": "tag", "name": "Calculator", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^export default function Calculator() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "applyUnary", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function applyUnary(fn) {$/", "language": "JavaScript", "kind": "function", "signature": "(fn)", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "computeBinary", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^function computeBinary(a, b, op) {$/", "language": "JavaScript", "kind": "function", "signature": "(a, b, op)"}, {"_type": "tag", "name": "formatNumber", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^function formatNumber(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "handleClear", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handleClear() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handleConstant", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handleConstant(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handleDecimal", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handleDecimal() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handleDelete", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handleDelete() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handleDigit", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handleDigit(d) {$/", "language": "JavaScript", "kind": "function", "signature": "(d)", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handleEquals", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handleEquals() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handleOperator", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handleOperator(nextOp) {$/", "language": "JavaScript", "kind": "function", "signature": "(nextOp)", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handlePercent", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handlePercent() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "handlePlusMinus", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function handlePlusMinus() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "loadHistory", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^    async function loadHistory() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "onKeyDown", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^    function onKeyDown(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "persistHistory", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  async function persistHistory(expression, result) {$/", "language": "JavaScript", "kind": "function", "signature": "(expression, result)", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "pushHistory", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^  function pushHistory(expression, result) {$/", "language": "JavaScript", "kind": "function", "signature": "(expression, result)", "scope": "Calculator", "scopeKind": "function"}, {"_type": "tag", "name": "toNumber", "path": "/home/kavia/workspace/code-generation/scientific-calculator-web-app-121593-121623/calculator_frontend/src/components/Calculator.jsx", "pattern": "/^function toNumber(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}], "hash": "e6416e2e3a0ca17d717badcfa95ece23", "format-version": 4, "code-base-name": "calculator_frontend", "filename": "calculator_frontend/src/components/Calculator.jsx"}